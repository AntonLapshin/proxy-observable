!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.observable=t()}(this,function(){"use strict";var n=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(){function n(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),e=function(){function e(t){n(this,e),this.callbacks={},this.target=t}return t(e,[{key:"has",value:function(n){return n in this.callbacks&&this.callbacks[n].length>0}},{key:"on",value:function(n,t){return n in this.callbacks==!1&&(this.callbacks[n]=[]),this.callbacks[n].push(t),this}},{key:"change",value:function(n,t){var e=this.target[n];return this.target[n]=t,n in this.callbacks&&this.callbacks[n].forEach(function(n){return n(t,e)}),this}},{key:"off",value:function(n){for(var t in this.callbacks)for(var e=this.callbacks[t],i=0;i<e.length;i++)if(e[i]===n)return e.splice(i,1),!0;return!1}},{key:"once",value:function(n,t){var e=this;this.on(n,function i(r){var a=e.target[n];t(r,a),e.off(i)})}}]),e}();return function(n){if(n.on&&n.off)return n;var t=new e(n);return new Proxy(n,{get:function(n,e){return e in n?n[e]:"on"===e?function(e,i){e in n&&t.change(e,n[e]),t.on(e,i)}:"off"===e?function(n){t.off(n)}:void 0},set:function(n,e,i){return t.has(e)?t.change(e,i):n[e]=i,!0}})}});
